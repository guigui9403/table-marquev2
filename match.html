
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Feuille de Match</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
    h1 { text-align: center; margin-bottom: 10px; }
    #chrono { font-size: 3em; text-align: center; margin-bottom: 10px; }
    .actions { text-align: center; margin-bottom: 10px; }
    .actions button { font-size: 0.9em; padding: 8px; margin: 4px; }
    #historique { background: #fff; padding: 10px; max-height: 200px; overflow-y: auto; margin-top: 20px; }
    .scoreboard { text-align: center; margin: 10px 0; font-size: 1.4em; }
  </style>
</head>
<body>
  <h1>Feuille de Match</h1>
  <div id="chrono">00:00</div>
  <div class="scoreboard">
    Score A : <span id="scoreA">0</span> - <span id="scoreB">0</span> : Score B
  </div>
  <div class="actions">
    <button onclick="logAction('BUT A')">BUT A</button>
    <button onclick="logAction('BUT B')">BUT B</button>
    <button onclick="logAction('2 MIN A')">2 MIN A</button>
    <button onclick="logAction('2 MIN B')">2 MIN B</button>
    <button onclick="startTME()">TME</button>
  </div>
  <div id="historique"></div>

  <script>
    let time = 0;
    let interval = setInterval(() => {
      time++;
      const min = String(Math.floor(time / 60)).padStart(2, '0');
      const sec = String(time % 60).padStart(2, '0');
      document.getElementById("chrono").textContent = min + ":" + sec;
    }, 1000);

    let scoreA = 0;
    let scoreB = 0;

    function logAction(action) {
      const timeText = document.getElementById("chrono").textContent;
      const hist = document.getElementById("historique");
      const div = document.createElement("div");
      div.textContent = `[${timeText}] ${action}`;
      div.onclick = () => {
        if (confirm("Supprimer cette action ?")) {
          div.remove();
          if (action === "BUT A") updateScore("A", -1);
          if (action === "BUT B") updateScore("B", -1);
        }
      };
      hist.prepend(div);

      if (action === "BUT A") updateScore("A", 1);
      if (action === "BUT B") updateScore("B", 1);
    }

    function updateScore(team, val) {
      if (team === "A") {
        scoreA += val;
        document.getElementById("scoreA").textContent = scoreA;
      } else {
        scoreB += val;
        document.getElementById("scoreB").textContent = scoreB;
      }
    }

    function startTME() {
      const team = prompt("Quel équipe prend le TME ? (A ou B)").toUpperCase();
      if (team !== "A" && team !== "B") return;
      logAction(`TME Équipe ${team}`);
    }
  </script>
</body>
</html>
